{"_path":"/android/lesson2/23-interaction","_dir":"lesson2","_draft":false,"_partial":false,"_locale":"","title":"Взаємодія між Activity","description":"У попередніх темах ми розглянули життєвий цикл Activity та запуск нових Activity за допомогою об'єкта Intent. Тепер розглянемо деякі особливості взаємодії між Activity в одному додатку. Припустимо, у нас є три Activity: MainActivity, SecondActivity та ThirdActivity.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"взаємодія-між-activity"},"children":[{"type":"text","value":"Взаємодія між Activity"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"У попередніх темах ми розглянули життєвий цикл "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Activity"}]},{"type":"text","value":" та запуск нових "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Activity"}]},{"type":"text","value":" за допомогою об'єкта "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Intent"}]},{"type":"text","value":". Тепер розглянемо деякі особливості взаємодії між "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Activity"}]},{"type":"text","value":" в одному додатку. Припустимо, у нас є три "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Activity"}]},{"type":"text","value":": "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SecondActivity"}]},{"type":"text","value":" та "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"/images/android/2-lesson/23-interaction/1.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"За допомогою "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Intent"}]},{"type":"text","value":", наприклад, по натисканню кнопки "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":" запускає "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SecondActivity"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-java shiki shiki-themes github-dark github-light monokai","code":"Intent intent = new Intent(this, SecondActivity.class);\nstartActivity(intent);\n","language":"java","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-dark-font-style:inherit;--shiki-default:#24292E;--shiki-default-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" intent "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":" Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#FD971F"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":", SecondActivity.class);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"startActivity"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(intent);\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"На "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SecondActivity"}]},{"type":"text","value":" також є кнопка, яка запускає "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-java shiki shiki-themes github-dark github-light monokai","code":"Intent intent = new Intent(this, ThirdActivity.class);\nstartActivity(intent);\n","language":"java","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-dark-font-style:inherit;--shiki-default:#24292E;--shiki-default-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" intent "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":" Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#FD971F"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":", ThirdActivity.class);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"startActivity"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(intent);\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"На "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":" також є кнопка, яка повертається до першої "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Activity"}]},{"type":"text","value":" — "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-java shiki shiki-themes github-dark github-light monokai","code":"Intent intent = new Intent(this, MainActivity.class);\nstartActivity(intent);\n","language":"java","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-dark-font-style:inherit;--shiki-default:#24292E;--shiki-default-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" intent "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":" Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#FD971F"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":", MainActivity.class);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"startActivity"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(intent);\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"","src":"/images/android/2-lesson/23-interaction/2.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Якщо ми послідовно запустимо всі activity: з головної "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":" запустимо "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SecondActivity"}]},{"type":"text","value":", з "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SecondActivity"}]},{"type":"text","value":" — "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":", то в результаті у нас складе наступний стек activity:"}]},{"type":"element","tag":"pre","props":{"className":"language-text shiki shiki-themes github-dark github-light monokai","code":"ThirdActivity\nSecondActivity\nMainActivity\n","language":"text","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ThirdActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"SecondActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"MainActivity\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Якщо після цього з "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":" ми захочемо звернутися до "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":", то метод "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"startActivity()"}]},{"type":"text","value":" запустить новий об'єкт "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":" (а не повернеться до вже існуючого), і стек буде виглядати наступним чином:"}]},{"type":"element","tag":"pre","props":{"className":"language-text shiki shiki-themes github-dark github-light monokai","code":"MainActivity\nThirdActivity\nSecondActivity\nMainActivity\n","language":"text","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"MainActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ThirdActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"SecondActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"MainActivity\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Тобто у нас буде дві незалежні копії "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":". Таке положення небажано, якщо ми просто хочемо перейти до існуючої. І цей момент треба враховувати."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Якщо ми натиснемо кнопку "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Back"}]},{"type":"text","value":" (Назад), то поточна activity, яка знаходиться на вершині стека, буде видалена зі стека, і попередня activity виявиться на вершині стека і відновить свою роботу. І таким чином за допомогою кнопки "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Back"}]},{"type":"text","value":" (Назад) ми зможемо перейти до попередньої activity в стеці. Наприклад, у випадку вище, якщо ми натиснемо на кнопку Назад, то "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":" на вершині стека завершить свою роботу, і на екрані почне відображатися "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":"."}]},{"type":"element","tag":"pre","props":{"className":"language-text shiki shiki-themes github-dark github-light monokai","code":"ThirdActivity\nSecondActivity\nMainActivity\n","language":"text","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ThirdActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"SecondActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"MainActivity\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Однак іноді виникає необхідність керувати переходами між activity. Наприклад, у даному випадку нам небажано при натисканні на кнопку в "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":" запускати нову копію "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":" замість того, щоб просто перейти до "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":", яка була запущена першою і знаходиться в самому низу стека. Розглянемо, які можливості надає нам Android."}]},{"type":"element","tag":"h2","props":{"id":"керування-стеком-activity"},"children":[{"type":"text","value":"Керування стеком activity"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Для керування стеком з activity Android пропонує використовувати флаги — константи, визначені в класі "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Intent"}]},{"type":"text","value":". Використання певного флага дозволить змінити положення activity в стеці певним чином."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Наприклад, розглянемо попереднє завдання, коли після натискання на кнопку в "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":" запускається новий екземпляр "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":". Але ми хочемо не запускати новий екземпляр, а перейти до вже існуючого."}]},{"type":"element","tag":"pre","props":{"className":"language-text shiki shiki-themes github-dark github-light monokai","code":"MainActivity\nThirdActivity\nSecondActivity\nMainActivity\n","language":"text","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"MainActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ThirdActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"SecondActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"MainActivity\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Щоб вийти з цієї ситуації, ми можемо використати флаг "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Intent.FLAG_ACTIVITY_REORDER_TO_FRONT"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-java shiki shiki-themes github-dark github-light monokai","code":"Intent intent = new Intent(this, MainActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\nstartActivity(intent);\n","language":"java","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-dark-font-style:inherit;--shiki-default:#24292E;--shiki-default-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" intent "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":" Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#FD971F"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":", MainActivity.class);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"intent."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"addFlags"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"startActivity"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(intent);\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Флаг "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Intent.FLAG_ACTIVITY_REORDER_TO_FRONT"}]},{"type":"text","value":" переміщає "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"activity"}]},{"type":"text","value":", до якої здійснюється перехід, на вершину стека, якщо вона вже є в стеці. І в цьому випадку після переходу з "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":" до "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":" стек буде виглядати наступним чином:"}]},{"type":"element","tag":"pre","props":{"className":"language-text shiki shiki-themes github-dark github-light monokai","code":"MainActivity\nThirdActivity\nSecondActivity\n","language":"text","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"MainActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ThirdActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"SecondActivity\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Якщо ж нам просто треба перейти з "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":" до "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":", як якби ми повернулися назад за допомогою кнопки "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Back"}]},{"type":"text","value":", ми можемо використовувати флаги "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Intent.FLAG_ACTIVITY_CLEAR_TOP"}]},{"type":"text","value":" та "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Intent.FLAG_ACTIVITY_SINGLE_TOP"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-java shiki shiki-themes github-dark github-light monokai","code":"Intent intent = new Intent(this, MainActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\nstartActivity(intent);\n","language":"java","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-dark-font-style:inherit;--shiki-default:#24292E;--shiki-default-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" intent "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":" Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#FD971F"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":", MainActivity.class);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"intent."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"addFlags"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(Intent.FLAG_ACTIVITY_CLEAR_TOP "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" Intent.FLAG_ACTIVITY_SINGLE_TOP);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"startActivity"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(intent);\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Флаг "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Intent.FLAG_ACTIVITY_CLEAR_TOP"}]},{"type":"text","value":" очищає всі "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"activity"}]},{"type":"text","value":", крім тієї, яка запускається (якщо вона вже є в стеці). А флаг "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Intent.FLAG_ACTIVITY_SINGLE_TOP"}]},{"type":"text","value":" вказує, що якщо на вершині стека вже є "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"activity"}]},{"type":"text","value":", яку потрібно запустити, то вона НЕ буде запущена знову (вона може існувати в стеці тільки в єдиному екземплярі)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"У цьому випадку після переходу з "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ThirdActivity"}]},{"type":"text","value":" до "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":" стек буде повністю очищений, і в ньому залишиться тільки одна "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ще один флаг — "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Intent.FLAG_ACTIVITY_NO_HISTORY"}]},{"type":"text","value":" дозволить не зберігати в стеці запущену "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"activity"}]},{"type":"text","value":". Наприклад, при запуску "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"SecondActivity"}]},{"type":"text","value":" ми не хочемо її зберігати в стеці:"}]},{"type":"element","tag":"pre","props":{"className":"language-java shiki shiki-themes github-dark github-light monokai","code":"Intent intent = new Intent(this, SecondActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\nstartActivity(intent);\n","language":"java","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-dark-font-style:inherit;--shiki-default:#24292E;--shiki-default-font-style:inherit;--shiki-sepia:#66D9EF;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":" intent "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49;--shiki-sepia:#F92672"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":" Intent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5;--shiki-sepia:#FD971F"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":", SecondActivity.class);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"intent."}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"addFlags"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(Intent.FLAG_ACTIVITY_NO_HISTORY);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"startActivity"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"(intent);\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"У цьому випадку при переході по ланцюгу "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"MainActivity -> SecondActivity -> ThirdActivity"}]},{"type":"text","value":" стек виглядатиме наступним чином:"}]},{"type":"element","tag":"pre","props":{"className":"language-text shiki shiki-themes github-dark github-light monokai","code":"MainActivity\nThirdActivity\n","language":"text","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"MainActivity\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ThirdActivity\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"керування-стеком-activity","depth":2,"text":"Керування стеком activity"}]}},"_type":"markdown","_id":"content:1.android:2.lesson2:23-interaction.md","_source":"content","_file":"1.android/2.lesson2/23-interaction.md","_stem":"1.android/2.lesson2/23-interaction","_extension":"md"}